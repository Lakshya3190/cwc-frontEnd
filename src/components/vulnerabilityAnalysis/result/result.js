import React from 'react';
import './result.css';

class result extends React.Component{
    constructor(props){
        super(props);
        this.state = {
            resultRoute: '',
            score: ''
        }
    }

    


    resultRouteChange = (resultRoute) => {
        this.setState({resultRoute: resultRoute})
    }

    

    onGetResult = () => {
        fetch('http://localhost:3005/getResult', {
            method: 'post',
            headers: {'Content-Type': 'application/json'},
        })

        .then(result => result.json())
        .then(this.resultRouteChange('result'))
        .then(score => {
            this.setState({score:score})})
        }



    
    

    render(){

        return(
            <div>
                {
                    this.state.resultRoute === 'result'
                    ? <div className = 'tc b score'>
                        <p>Your Score is</p>
                        <p style = {{color: 'black'}}>40/50</p>
                        <p>You are safe! Make sure you maintain all social distancing norms and maintain your safety throughout.</p>
                        </div>
                    : <div>
                    <p className = 'b tc result-button' onClick = {this.onGetResult}>View Result</p>
                    </div>
                }
                
            </div>
        );
    }
}

export default result;
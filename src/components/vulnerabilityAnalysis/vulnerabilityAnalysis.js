import React from 'react';
import './vulnerabilityAnalysis.css';
import Carousel from 'nuka-carousel';
import Result from './result/result.js';


class vulnerabilityAnalysis extends React.Component {
    
    constructor(props){
        super(props);
        this.state = {
            quesRoute: '',
            ques1: '',
            ques2: '',
            ques3_sum: '',
            ques4: '',
            ques5: '',
            ques6: '',
            ques7_sum: '',
            ques8: '',
            ques9: '',
            ques10: ''
            
        }
        
    }
    

    
    

    quesRoute = (route) => {
        this.setState({quesRoute: route})
    }

    ques2Change = (event) => {
        this.setState({ques2:event.currentTarget.value})
    }

    ques3Change = (event) => {
        this.setState({ques3:event.currentTarget.value})
    }

    ques4Change = (event) => {
        this.setState({ques4:event.currentTarget.value})
    }

    ques5Change = (event) => {
        this.setState({ques5:event.currentTarget.value})
    }

    ques6Change = (event) => {
        this.setState({ques6:event.currentTarget.value})
    }

    ques7Change = (event) => {
        this.setState({ques7:event.currentTarget.value})
    }

    ques8Change = (event) => {
        this.setState({ques8:event.currentTarget.value})
    }

    ques9Change = (event) => {
        this.setState({ques9:event.currentTarget.value})
    }

    ques10Change = (event) => {
        this.setState({ques10:event.currentTarget.value})
    }

    onQuesRoute = (quesRoute) => {
        this.setState({quesRoute:quesRoute})
    }

    onSubmitAnswers = () => {
        fetch('https://sleepy-castle-14535.herokuapp.com/vulnerabilityAnalysis', {
            method: 'post',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                ques2: this.state.ques2,
                ques3: this.state.ques3,
                ques4: this.state.ques4,
                ques5: this.state.ques5,
                ques6: this.state.ques6,
                ques7: this.state.ques7,
                ques8: this.state.ques8,
                ques9: this.state.ques9,
                ques10: this.state.ques10

            })
        })

        .then(response => response.json())
        
    }

    
    render(){
        
          return(
              <div>
              {

            this.state.quesRoute === ''
            ?
            <div>
                <div className = 'va'>
                <div className = 'tc'>
                <p  onClick = {() => this.props.onRouteChange('home')} style = {{color: 'black'}} className = 'b ph3 pv2 input-reset ba b--white bg-blue grow pointer f3l dib form button vul'>Home</p>
                </div>
                <p className = 'b tc f1 va-title pt5'>Vulnerability Analysis</p>
                <Carousel> 
                        <div className = 'questions f3 b'>
                        1. Gender:<br/><br/>
                            <input type="radio" name="gender" value="male"/> Male<br/>
                            <input type="radio" name="gender" value="female"/> Female<br/>
                            <input type="radio" name="gender" value="others"/> Others<br/><br/>
                            
                        </div>

                        <div className = 'questions f3 b'>
                        2. Age Group:<br/><br/>

                        <input onChange = {this.ques2Change} type="radio" name="age" value="5"/> 0 -17 years<br/>
                        <input onChange = {this.ques2Change} type="radio" name="age" value="4"/>18-34 years<br/>
                        <input onChange = {this.ques2Change} type="radio" name="age" value="3"/>35-49 years<br/>
                        <input onChange = {this.ques2Change} type="radio" name="age" value="3"/>50-64 years<br/>
                        <input onChange = {this.ques2Change} type="radio" name="age" value="1"/> > 65 years<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        3. Are you experiencing any of the following symptoms?<br/><br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="2"/> Fever<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="5"/> Tiredness<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="2"/> Dry cough<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="5"/> Diarrhoea<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="4"/> Body aches/ pains<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="4"/> Runny Nose<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="4"/> Sore throat<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="2"/> Difficulty breathing<br/>
                        <input onChange = {this.ques3Change} type="checkbox" name="symp" value="2"/> Nasal Congestion<br/><br/>

                    <input type="checkbox" name="symp" value="1"/> No Symptoms<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        4. Are your selected symptoms mild?<br/><br/>
                            <input onChange = {this.ques4Change} type="radio" name="mild" value="5"/> No Symptoms<br/>
                            <input onChange = {this.ques4Change} type="radio" name="mild" value="3"/> Yes. all are Mild<br/>
                            <input onChange = {this.ques4Change} type="radio" name="mild" value="2"/> Few are mild <br/>
                            <input onChange = {this.ques4Change} type="radio" name="mild" value="1"/> Strong<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        5. Have you travelled internationally after February 2020?<br/><br/>
                            <input onChange = {this.ques5Change} type="radio" name="trip" value="5"/> No<br/>
                            <input onChange = {this.ques5Change} type="radio" name="trip" value="2"/>Yes<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        6. How often do you smoke or drink?<br/><br/>
                            <input onChange = {this.ques6Change} type="radio" name="smoke" value="5"/> I dont smoke / drink<br/>
                            <input onChange = {this.ques6Change} type="radio" name="smoke" value="3"/>Once in a week/ two weeks.<br/>
                            <input onChange = {this.ques6Change} type="radio" name="smoke" value="2"/>Every alternate day/ thrice a week<br/>
                            <input onChange = {this.ques6Change} type="radio" name="smoke" value="1"/>Everyday.<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        7. Do you have any of the following underlying health conditions/ diseases?<br/><br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="2"/>Respiratory issues (bronchitis / asthama etc)<br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="2"/>Heart conditions<br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="2"/> Undergoing (or expected to undergo)cancer treatment/ bone marrow or organ transplantation / dialysis<br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="2"/> Severe Obesity<br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="2"/> Diabetes<br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="2"/> Chronic kidney disease<br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="2"/> Liver disease<br/>
                            <input onChange = {this.ques7Change} type="checkbox" name="prob" value="5"/> None of the above<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        8. Has there been a positive coronavirus case in your locality or near?<br/><br/>
                            <input onChange = {this.ques8Change} type="radio" name="case" value="5"/> No<br/>
                            <input onChange = {this.ques8Change} type="radio" name="case" value="3"/> Yes, approx 1 km to  our society/ locality.<br/>
                            <input onChange = {this.ques8Change} type="radio" name="case" value="0"/> Both in our society and to the near areas as well.<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        9. Has anyone in your family / nearest neighbourhood families have a recent travel record?<br/><br/>
                            <input onChange = {this.ques9Change} type="radio" name="case" value="5"/> No<br/>
                            <input onChange = {this.ques9Change} type="radio" name="case" value="3"/> Yes, Domestic travel.<br/>
                            <input onChange = {this.ques9Change} type="radio" name="case" value="1"/> Yes, International travel<br/><br/>
                        </div>

                        <div className = 'questions f3 b'>
                        10. Do you need to leave your house for sustainance during the lockdown?<br/><br/>
                            <input onChange = {this.ques10Change} type="radio" name="case" value="5"/> No<br/>
                            <input onChange = {this.ques10Change} type="radio" name="case" value="3"/> Yes, weekly.<br/>
                            <input onChange = {this.ques10Change} type="radio" name="case" value="1"/> Yes, Everyday<br/><br/>
                            <p onClick = {() => {this.onSubmitAnswers(); this.onQuesRoute('result')}} className='b pa2 ma6 pointer br3' style = {{backgroundColor: 'black', color: 'white'}}>Submit</p>
                        </div>

                </Carousel>
                </div> 
            </div> 
            
            : (
                this.state.quesRoute === 'result'
                ? <Result/>
                : null
            )
            }
            </div>
            
          );
}
    
}

export default vulnerabilityAnalysis;